package com.primefaces.pusher.service;

import org.primefaces.json.JSONObject;

import com.google.appengine.api.urlfetch.HTTPResponse;
import com.pusher.Pusher;

public class PusherService {
	public void triggerEvent(String channelName, String eventName, JSONObject data) throws IllegalStateException {
		HTTPResponse res = Pusher.triggerPush(channelName, eventName, data.toString());
		if(res.getResponseCode() != 200) {
			throw new IllegalStateException();
		}
	}
}
