package com.primefaces.pusher.service;

import org.apache.http.HttpResponse;
import org.primefaces.json.JSONObject;

import com.pusher.Pusher;

public class PusherService {
	public void triggerEvent(String channelName, String eventName, JSONObject data) throws IllegalStateException {
		HttpResponse res = Pusher.triggerPush(channelName, eventName, data.toString());
	
		if(res.getStatusLine().getStatusCode() != 200) {
			throw new IllegalStateException("ReponseCode != 200");
		}
	}
}
